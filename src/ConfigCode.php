<?php

namespace Elminson\BarCode;

/**
 * Class CodeType
 * @package Elminson\BarCode
 */

class ConfigCode
{
    private $code_types = [
        'code128' => ['code' => 'code128', 'chksum' => 104],
        'code128b' => ['code' => 'code128b', 'chksum' => 104],
        'code128a' => ['code' => 'code128a', 'chksum' => 103],
        'code39' => ['code' => 'code39', 'chksum' => 0],
        'code25' => ['code' => 'code25', 'chksum' => 0],
        'codabar' => ['code' => 'codabar', 'chksum' => 0],

    ];

    private $code_data_array;

    private $code128 = [
        " " => "212222",
        "!" => "222122",
        "\"" => "222221",
        "#" => "121223",
        "$" => "121322",
        "%" => "131222",
        "&" => "122213",
        "'" => "122312",
        "(" => "132212",
        ")" => "221213",
        "*" => "221312",
        "+" => "231212",
        "," => "112232",
        "-" => "122132",
        "." => "122231",
        "/" => "113222",
        "0" => "123122",
        "1" => "123221",
        "2" => "223211",
        "3" => "221132",
        "4" => "221231",
        "5" => "213212",
        "6" => "223112",
        "7" => "312131",
        "8" => "311222",
        "9" => "321122",
        ":" => "321221",
        ";" => "312212",
        "<" => "322112",
        "=" => "322211",
        ">" => "212123",
        "?" => "212321",
        "@" => "232121",
        "A" => "111323",
        "B" => "131123",
        "C" => "131321",
        "D" => "112313",
        "E" => "132113",
        "F" => "132311",
        "G" => "211313",
        "H" => "231113",
        "I" => "231311",
        "J" => "112133",
        "K" => "112331",
        "L" => "132131",
        "M" => "113123",
        "N" => "113321",
        "O" => "133121",
        "P" => "313121",
        "Q" => "211331",
        "R" => "231131",
        "S" => "213113",
        "T" => "213311",
        "U" => "213131",
        "V" => "311123",
        "W" => "311321",
        "X" => "331121",
        "Y" => "312113",
        "Z" => "312311",
        "[" => "332111",
        "\\" => "314111",
        "]" => "221411",
        "^" => "431111",
        "_" => "111224",
        "\`" => "111422",
        "a" => "121124",
        "b" => "121421",
        "c" => "141122",
        "d" => "141221",
        "e" => "112214",
        "f" => "112412",
        "g" => "122114",
        "h" => "122411",
        "i" => "142112",
        "j" => "142211",
        "k" => "241211",
        "l" => "221114",
        "m" => "413111",
        "n" => "241112",
        "o" => "134111",
        "p" => "111242",
        "q" => "121142",
        "r" => "121241",
        "s" => "114212",
        "t" => "124112",
        "u" => "124211",
        "v" => "411212",
        "w" => "421112",
        "x" => "421211",
        "y" => "212141",
        "z" => "214121",
        "{" => "412121",
        "|" => "111143",
        "}" => "111341",
        "~" => "131141",
        "DEL" => "114113",
        "FNC 3" => "114311",
        "FNC 2" => "411113",
        "SHIFT" => "411311",
        "CODE C" => "113141",
        "FNC 4" => "114131",
        "CODE A" => "311141",
        "FNC 1" => "411131",
        "Start A" => "211412",
        "Start B" => "211214",
        "Start C" => "211232",
        "Stop" => "2331112"
    ];

    public function __construct()
    {
        $this->code_data_array = [
            'code128' => $this->code128,
            'code128b' => $this->code128,
            'code128a' => [
                " " => "212222",
                "!" => "222122",
                "\"" => "222221",
                "#" => "121223",
                "$" => "121322",
                "%" => "131222",
                "&" => "122213",
                "'" => "122312",
                "(" => "132212",
                ")" => "221213",
                "*" => "221312",
                "+" => "231212",
                "," => "112232",
                "-" => "122132",
                "." => "122231",
                "/" => "113222",
                "0" => "123122",
                "1" => "123221",
                "2" => "223211",
                "3" => "221132",
                "4" => "221231",
                "5" => "213212",
                "6" => "223112",
                "7" => "312131",
                "8" => "311222",
                "9" => "321122",
                ":" => "321221",
                ";" => "312212",
                "<" => "322112",
                "=" => "322211",
                ">" => "212123",
                "?" => "212321",
                "@" => "232121",
                "A" => "111323",
                "B" => "131123",
                "C" => "131321",
                "D" => "112313",
                "E" => "132113",
                "F" => "132311",
                "G" => "211313",
                "H" => "231113",
                "I" => "231311",
                "J" => "112133",
                "K" => "112331",
                "L" => "132131",
                "M" => "113123",
                "N" => "113321",
                "O" => "133121",
                "P" => "313121",
                "Q" => "211331",
                "R" => "231131",
                "S" => "213113",
                "T" => "213311",
                "U" => "213131",
                "V" => "311123",
                "W" => "311321",
                "X" => "331121",
                "Y" => "312113",
                "Z" => "312311",
                "[" => "332111",
                "\\" => "314111",
                "]" => "221411",
                "^" => "431111",
                "_" => "111224",
                "NUL" => "111422",
                "SOH" => "121124",
                "STX" => "121421",
                "ETX" => "141122",
                "EOT" => "141221",
                "ENQ" => "112214",
                "ACK" => "112412",
                "BEL" => "122114",
                "BS" => "122411",
                "HT" => "142112",
                "LF" => "142211",
                "VT" => "241211",
                "FF" => "221114",
                "CR" => "413111",
                "SO" => "241112",
                "SI" => "134111",
                "DLE" => "111242",
                "DC1" => "121142",
                "DC2" => "121241",
                "DC3" => "114212",
                "DC4" => "124112",
                "NAK" => "124211",
                "SYN" => "411212",
                "ETB" => "421112",
                "CAN" => "421211",
                "EM" => "212141",
                "SUB" => "214121",
                "ESC" => "412121",
                "FS" => "111143",
                "GS" => "111341",
                "RS" => "131141",
                "US" => "114113",
                "FNC 3" => "114311",
                "FNC 2" => "411113",
                "SHIFT" => "411311",
                "CODE C" => "113141",
                "CODE B" => "114131",
                "FNC 4" => "311141",
                "FNC 1" => "411131",
                "Start A" => "211412",
                "Start B" => "211214",
                "Start C" => "211232",
                "Stop" => "2331112"
            ],
            'code39' => [
                "0" => "111221211",
                "1" => "211211112",
                "2" => "112211112",
                "3" => "212211111",
                "4" => "111221112",
                "5" => "211221111",
                "6" => "112221111",
                "7" => "111211212",
                "8" => "211211211",
                "9" => "112211211",
                "A" => "211112112",
                "B" => "112112112",
                "C" => "212112111",
                "D" => "111122112",
                "E" => "211122111",
                "F" => "112122111",
                "G" => "111112212",
                "H" => "211112211",
                "I" => "112112211",
                "J" => "111122211",
                "K" => "211111122",
                "L" => "112111122",
                "M" => "212111121",
                "N" => "111121122",
                "O" => "211121121",
                "P" => "112121121",
                "Q" => "111111222",
                "R" => "211111221",
                "S" => "112111221",
                "T" => "111121221",
                "U" => "221111112",
                "V" => "122111112",
                "W" => "222111111",
                "X" => "121121112",
                "Y" => "221121111",
                "Z" => "122121111",
                "-" => "121111212",
                "." => "221111211",
                " " => "122111211",
                "$" => "121212111",
                "/" => "121211121",
                "+" => "121112121",
                "%" => "111212121",
                "*" => "121121211"
            ],
            'code25' => [
                "1" => "3-1-1-1-3",
                "2" => "1-3-1-1-3",
                "3" => "3-3-1-1-1",
                "4" => "1-1-3-1-3",
                "5" => "3-1-3-1-1",
                "6" => "1-3-3-1-1",
                "7" => "1-1-1-3-3",
                "8" => "3-1-1-3-1",
                "9" => "1-3-1-3-1",
                "0" => "1-1-3-3-1"
            ],
            'codabar' => [
                "1" => "1111221",
                "2" => "1112112",
                "3" => "2211111",
                "4" => "1121121",
                "5" => "2111121",
                "6" => "1211112",
                "7" => "1211211",
                "8" => "1221111",
                "9" => "2112111",
                "0" => "1111122",
                "-" => "1112211",
                "$" => "1122111",
                ":" => "2111212",
                "/" => "2121112",
                "." => "2121211",
                "+" => "1121212",
                "A" => "1122121",
                "B" => "1212112",
                "C" => "1112122",
                "D" => "1112221"
            ]
        ];
    }


    private $code_string = [
        'code128' => ['start' => '211214', 'end' => '2331112'],
        'code128b' => ['start' => '211214', 'end' => '2331112'],
        'code128a' => ['start' => '211412', 'end' => '2331112'],
        'code39' => ['start' => '1211212111', 'end' => '121121211'],
        'code25' => ['start' => '1111', 'end' => '311'],
        'codabar' => ['start' => '11221211', 'end' => '1122121'],
    ];

    /**
     * @param $code_type
     * @param null $position
     * @return string pattern
     */
    public function getCode($code_type)
    {
        return $this->code_data_array[$code_type];
    }

    /**
     * @param $code_type
     * @param null $position
     * @return mixed
     */
    public function getCodeString($code_type, $position = null)
    {
        return $this->code_string[$code_type][$position];
    }

    /**
     * @param $code_type
     * @return mixed
     */
    public function getCodeData($code_type)
    {
        return $this->code_data_array[$code_type];
    }

    /**
     * @param $code_type
     * @return mixed
     */
    public function getChecksum($code_type)
    {
        return $this->code_types[$code_type]['chksum'];
    }
}